# What Is a Socket?
일반적으로 서버는 특정 컴퓨터에서 실행되며 특정 포트 번호에 바인딩된 소켓이 있다. 서버는 클라이언트가 연결 요청을 할 때까지 소켓을 들으면서 대기한다. 

클라이언트 사이드에서: 클라이언트는 서버가 실행중인 시스템의 호스트 이름과 서버가 듣고 있는 포트 번호를 알고 있다. 연결 요청을 하기 위해 클라이언트는 서버의 컴퓨터 및 포트에 있는 서버와 만남을 시도한다. 클라이언트는 또한 서버에 자신을 식별하여 이 연결 중에 사용할 로컬 포트 번호에 바인딩해야 한다. 이는 일반적으로 시스템에서 할당한다. 

<img src="./images/connection_request.gif" width="100%" alt="connection request">
<br><br>

모든 것이 잘되면 서버는 연결을 수락한다. 수락하면 서버는 동일한 로컬 포트에 바인딩된 새 소켓을 얻고 해당 원격 엔드포인트도 클라이언트의 주소 및 포트로 설정한다. 연결된 클라이언트의 요구를 처리하면서 연결 요청을 위해 원래 소켓을 계속 리스닝할 수 있도록 새 소켓이 필요하다. 

<img src="./images/connection.gif" width="100%" alt="connection">
<br><br>

클라이언트 측에서 연결이 수락되면 소켓이 성공적으로 생성되고 클라이언트는 소켓을 사용하여 서버와 통신할 수 있다. 

클라이언트와 서버는 이제 소켓에 쓰거나 소켓에서 읽는 방식으로 통신할 수 있다.

> 정의:
소켓은 네트워크에서 실행되는 두 프로그램 간의 양방향 통신 링크의 한 엔드포인트이다. 소켓은 포트 번호에 바인딩되어 있으므로 TCP 레이어는 데이터가 전송될 애플리케이션을 식별할 수 있다.

엔드포인트는 IP 주소와 포트 번호의 조합이다. 모든 TCP 연결은 두 엔드포인트에 의해 고유하게 식별될 수 있다. 이렇게 하면 호스트와 서버 간에 여러 연결을 가질 수 있다.

Java 플랫폼의 `java.net` 패키지는 Java 프로그램과 네트워크의 다른 프로그램 사이의 양방향 연결의 한 쪽을 구현하는 `Socket` 클래스를 제공한다. `Socket` 클래스는 플랫폼 의존 구현 위에 위치하여 Java 프로그램에서 특정 시스템의 세부 정보를 숨긴다. 원시 코드에 의존하는 대신 `java.net.Socket` 클래스를 사용하면 Java 프로그램이 플랫폼에 독립적인 방식으로 네트워크를 통해 통신할 수 있다.

또한 `java.net`에는 서버가 클라이언트에 대한 연결을 수신하고 수락하는 데 사용할 수 있는 소켓을 구현하는 `ServerSocket` 클래스가 포함되어 있다. 

## Reference
* https://docs.oracle.com/javase/tutorial/networking/sockets/definition.html